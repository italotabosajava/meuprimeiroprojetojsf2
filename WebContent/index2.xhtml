<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title>Cadastro de usuarios</title>
</h:head>

<h:body>

<h:form>
<h:commandLink value="Administração" action="index2" style="margin-left:1cm;"/>
<h:commandLink value="Lançamentos" action="Lançamento" style="margin-left:1cm;"/>
<h:commandLink value="Trocar Usuario" action="index" style="margin-left:1cm;"/>


</h:form>

<h:form id="formPessoa" >

<h:messages infoStyle="color:green;background:6495ED"/>

<h:panelGrid columns="2">
<f:facet name="header">
<h:outputText value="Cadastro de Usuarios"/>
</f:facet>


<h:outputLabel value="Id:"/>
<h:inputText value="#{pessoaBean.pessoa.id}" readonly="true" />

<h:outputLabel value="nome:"/>
<h:inputText value="#{pessoaBean.pessoa.nome}" pt:placeholder="Informe o nome do Usuario "/>
 

<h:outputLabel value = "sobrenome:"/>
<h:inputText value= "#{pessoaBean.pessoa.sobrenome}"/>

<h:outputLabel value = "idade:"/>
<h:inputText value= "#{pessoaBean.pessoa.idade}"/>

<h:outputLabel value="CPF"/>
<h:inputText value="#{pessoaBean.pessoa.cpf}" pt:placeholder="Informe cpf válido "/>

<h:outputLabel value="TituloEleitor"/>
<h:inputText value="#{pessoaBean.pessoa.tituloEleitor}"/>


<h:outputLabel value="Sexo:"/>

<h:selectOneMenu id="campoSexo" value="#{pessoaBean.pessoa.sexo}" required="false">
    <f:selectItem  itemValue="NAO" itemLabel="[-Selecione-]" noSelectionOption="true"/>
    <f:selectItem  itemValue="MASCULINO" itemLabel="Masculino" />
    <f:selectItem  itemValue="FEMININO" itemLabel="Feminino"/>    
</h:selectOneMenu>

     <h:outputLabel value="Nascimento:"/>
         <h:inputText value="#{pessoaBean.pessoa.dataNascimento}" converterMessage="DAta de Nascimento Errada"> 
           <f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR" timeZone="GMT-03:00"/>
         </h:inputText>

<h:outputLabel value="Frameworks:"/>
<h:selectManyMenu id="campoframeworks"
 value="#{pessoaBean.pessoa.frameworks}" style="height:150px">
    <f:selectItem  itemValue="JPA"  />
    <f:selectItem  itemValue="Hibernet" />
    <f:selectItem  itemValue="Spring mvc"  />
    <f:selectItem  itemValue="JSF"  />
    <f:selectItem  itemValue="Primefaces"  />
</h:selectManyMenu>

<h:outputLabel value="CEP:"/>
<h:inputText value="#{pessoaBean.pessoa.cep}">
<f:ajax event="blur" execute="@this" 
listener="#{pessoaBean.pesquisaCep}"
render="logradouro complemento bairro localidade uf unidade ibge gia" />

</h:inputText >

<h:outputLabel value="logradouro"/>
<h:inputText value="#{pessoaBean.pessoa.logradouro}" id="logradouro"/>

<h:outputLabel value="complemento"/>
<h:inputText value="#{pessoaBean.pessoa.complemento}" id="complemento"/>

<h:outputLabel value="bairro"/>
<h:inputText value="#{pessoaBean.pessoa.bairro}" id="bairro"/>

<h:outputLabel value="Localidade" />
<h:inputText value="#{pessoaBean.pessoa.localidade}" id="localidade"/>

<h:outputLabel value="uf"/>
<h:inputText value="#{pessoaBean.pessoa.uf}" id="uf"/>

<h:outputLabel value="unidade"/>
<h:inputText value="#{pessoaBean.pessoa.unidade}" id="unidade"/>

<h:outputLabel value="ibge"/>
<h:inputText value="#{pessoaBean.pessoa.ibge}" id="ibge"/>

<h:outputLabel value="gia"/>
<h:inputText value="#{pessoaBean.pessoa.gia}" id="gia"/>


<h:outputLabel value="Ativo:"/>
<h:selectBooleanCheckbox value="#{pessoaBean.pessoa.ativo}"/>

<h:outputLabel value="login:"/>
<h:inputText value="#{pessoaBean.pessoa.login}"/>

<h:outputLabel value="senha:"/>
<h:inputSecret value="#{pessoaBean.pessoa.senha}"/>

<h:outputLabel value="Perfil:"/> 


<h:selectOneMenu id="Perfil" value="#{pessoaBean.pessoa.perfilUser}" required="false">
    <f:selectItem  itemValue="NAO" itemLabel="[-Selecione-]" noSelectionOption="true"/>
    <f:selectItem  itemValue="ADMINISTRADOR" itemLabel="Administrador"/>
    <f:selectItem  itemValue="SECRETARIO" itemLabel="Secretario"/>  
     <f:selectItem  itemValue="RECEPCIONISTA" itemLabel="Recepcionista"/>   
</h:selectOneMenu>

<h:outputLabel value="Programador:" />
<h:selectOneRadio value="#{pessoaBean.pessoa.nivelProgamador}">
<f:selectItem itemValue="J" itemLabel="Junior" />
<f:selectItem itemValue="P" itemLabel="Pleno" />
<f:selectItem itemValue="S" itemLabel="Senior" />
<f:selectItem itemValue="E" itemLabel="Expecialista" />
</h:selectOneRadio>

<h:outputLabel value="Liguagens"/>
<h:selectManyCheckbox>
     <f:selectItem itemValue="1" itemLabel="Java"/>
     <f:selectItem itemValue="2" itemLabel="Php"/>
     <f:selectItem itemValue="3" itemLabel="Pyton"/>
     <f:selectItem itemValue="4" itemLabel="C#"/>
     <f:selectItem itemValue="5" itemLabel="Cobol"/>
</h:selectManyCheckbox>

<h:outputLabel value="Estados:"/>
<h:selectOneMenu value="#{pessoaBean.pessoa.estados}" immediate="true">
       <f:selectItem  itemLabel="--[Selecione]--" noSelectionOption="true"/>
       <f:selectItems value="#{pessoaBean.estados}"/>
       <f:ajax event="change" execute="@this" listener="#{pessoaBean.carregaCidades}"/>
       

</h:selectOneMenu>


<h:outputLabel/>
</h:panelGrid>
<h:commandButton value="Novo" action="#{pessoaBean.novo}" image="/resources/img/new-file_40454.png" title="novo"/>  
<h:commandButton value="Salvar" action="#{pessoaBean.salvar}" image="/resources/img/Save_37110.png" title="salvar"/>
<h:commandButton value="Remove" action="#{pessoaBean.remove}" image="/resources/img/biggarbagebin_121980.png" title="remove"/>
<h:commandButton action="#{pessoaBean.limpar}" image="/resources/img/limpar_clean_icon_134365.png" title="limpar"/>
<h:panelGroup>

</h:panelGroup>

</h:form>

<h:form id="formeTable">
<h:dataTable value="#{pessoaBean.pessoas}" var="pessoa" border="3" cellpadding="6" rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
<f:facet name="header">
Lista de Usuarios Cadastrados
</f:facet>

<h:column>
<f:facet name="header">ID</f:facet>
<h:outputText value="#{pessoa.id}"/>
</h:column>

<h:column>
<f:facet name="header">NOME</f:facet>
<h:outputText value="#{pessoa.nome}"/>
</h:column>

<h:column>
<f:facet name="header">SOBRE NOME</f:facet>
<h:outputText value="#{pessoa.sobrenome}"/>
</h:column>

<h:column>
<f:facet name="header">EDITAR</f:facet>
<h:commandLink > 
       <f:setPropertyActionListener value="#{pessoa}" target="#{pessoaBean.pessoa}" />
       <h:graphicImage value="/resources/img/editar_21973.png" title="editar"/>
</h:commandLink>
</h:column>
<h:outputLabel style="width:200px;" value ="       "/>


<h:column rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
<f:facet name="header">EXCLUIR</f:facet>
<h:commandLink  action="#{pessoaBean.remove}"> 
       <f:setPropertyActionListener value="#{pessoa}" target="#{pessoaBean.pessoa}" />
        <h:graphicImage value="/resources/img/userdelete_120257.png" title="excluir"/>
</h:commandLink>
</h:column>
</h:dataTable>

</h:form>
</h:body>
</html>