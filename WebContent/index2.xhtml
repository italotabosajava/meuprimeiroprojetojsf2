<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title>Cadastro de usuarios</title>
</h:head>

<h:body>

<h:form>
<h:commandLink value="Administração" action="index2" style="margin-left:1cm;"/>
<h:commandLink value="Lançamentos" action="Lançamento" style="margin-left:1cm;"/>
<h:commandLink value="Trocar Usuario" action="index" style="margin-left:1cm;"/>


</h:form>

<h:form id="formPessoa" enctype="multipart/form-data">

<b:messages infoStyle="color:green;background:6495ED"/>

<h:panelGrid columns="4">
<f:facet name="header">
<h:outputText value="Cadastro de Usuarios"/>
</f:facet>

<b:column>
<h:outputLabel value="Id:"/>
<b:inputText value="#{pessoaBean.pessoa.id}" readonly="true"/>
</b:column>

<b:column>
<h:outputLabel value="foto:"/>
<h:inputFile id="foto" value="#{pessoaBean.arquivofoto}"/>
</b:column>

<b:column>
<h:outputLabel value="nome:"/>
<b:inputText value="#{pessoaBean.pessoa.nome}" pt:placeholder="Informe o nome do Usuario "/>
 </b:column>

<b:column>
<h:outputLabel value = "sobrenome:"/>
<b:inputText value= "#{pessoaBean.pessoa.sobrenome}"/>
</b:column>

<b:column>
<h:outputLabel value = "idade:"/>
<b:inputText value= "#{pessoaBean.pessoa.idade}"/>
</b:column>

<b:column>
<h:outputLabel value="CPF"/>
<b:inputText value="#{pessoaBean.pessoa.cpf}" pt:placeholder="Informe cpf válido "/>
</b:column>

<b:column>
<h:outputLabel value="TituloEleitor"/>
<b:inputText value="#{pessoaBean.pessoa.tituloEleitor}"/>
</b:column>

<b:column>
<h:outputLabel value="Sexo:"/>

<b:selectOneMenu id="campoSexo" value="#{pessoaBean.pessoa.sexo}" required="false">
    <f:selectItem  itemValue="NAO" itemLabel="[-Selecione-]" noSelectionOption="true"/>
    <f:selectItem  itemValue="MASCULINO" itemLabel="Masculino" />
    <f:selectItem  itemValue="FEMININO" itemLabel="Feminino"/>    
</b:selectOneMenu>
</b:column>
 
<b:column>
<h:outputLabel value="Frameworks:"/>
<h:selectManyMenu id="campoframeworks"
 value="#{pessoaBean.pessoa.frameworks}" style="height:150px">
    <f:selectItem  itemValue="JPA"  />
    <f:selectItem  itemValue="Hibernet" />
    <f:selectItem  itemValue="Spring mvc"  />
    <f:selectItem  itemValue="JSF"  />
    <f:selectItem  itemValue="Primefaces"  />
</h:selectManyMenu>
</b:column>

<b:column>
<h:outputLabel value="CEP:"/>
<b:inputText value="#{pessoaBean.pessoa.cep}">
<f:ajax event="blur" execute="@this" 
listener="#{pessoaBean.pesquisaCep}"
render="logradouro complemento bairro localidade uf unidade ibge gia" />

</b:inputText >
</b:column>

<b:column>
<h:outputLabel value="logradouro"/>
<b:inputText value="#{pessoaBean.pessoa.logradouro}" id="logradouro"/>
</b:column>

<b:column>
<h:outputLabel value="complemento"/>
<b:inputText value="#{pessoaBean.pessoa.complemento}" id="complemento"/>
</b:column>

<b:column>
<h:outputLabel value="bairro"/>
<b:inputText value="#{pessoaBean.pessoa.bairro}" id="bairro"/>
</b:column>

<b:column>
<h:outputLabel value="Localidade" />
<b:inputText value="#{pessoaBean.pessoa.localidade}" id="localidade"/>
</b:column>

<b:column>
<h:outputLabel value="uf"/>
<b:inputText value="#{pessoaBean.pessoa.uf}" id="uf"/>
</b:column>

<b:column>
<h:outputLabel value="unidade"/>
<b:inputText value="#{pessoaBean.pessoa.unidade}" id="unidade"/>
</b:column>

<b:column>
<h:outputLabel value="ibge"/>
<b:inputText value="#{pessoaBean.pessoa.ibge}" id="ibge"/>
</b:column>

<b:column>
<h:outputLabel value="gia"/>
<b:inputText value="#{pessoaBean.pessoa.gia}" id="gia"/>
</b:column>


<b:column>
<h:outputLabel value="Ativo:"/>
<h:selectBooleanCheckbox value="#{pessoaBean.pessoa.ativo}"/>
</b:column>

<b:column>
<h:outputLabel value="login:"/>
<b:inputText value="#{pessoaBean.pessoa.login}"/>
</b:column>

<b:column>
<h:outputLabel value="senha:"/>
<b:inputSecret value="#{pessoaBean.pessoa.senha}"/>
</b:column>

<b:column>
<h:outputLabel value="Perfil:"/> 
<b:selectOneMenu id="Perfil" value="#{pessoaBean.pessoa.perfilUser}" required="false">
    <f:selectItem  itemValue="NAO" itemLabel="[-Selecione-]" noSelectionOption="true"/>
    <f:selectItem  itemValue="ADMINISTRADOR" itemLabel="Administrador"/>
    <f:selectItem  itemValue="SECRETARIO" itemLabel="Secretario"/>  
     <f:selectItem  itemValue="RECEPCIONISTA" itemLabel="Recepcionista"/>   
</b:selectOneMenu>
</b:column>

<b:column>
<h:outputLabel value="Programador:" />
<h:selectOneRadio value="#{pessoaBean.pessoa.nivelProgamador}">
<f:selectItem itemValue="J" itemLabel="Junior" />
<f:selectItem itemValue="P" itemLabel="Pleno" />
<f:selectItem itemValue="S" itemLabel="Senior" />
<f:selectItem itemValue="E" itemLabel="Expecialista" />
</h:selectOneRadio>
</b:column>

<b:column>
<h:outputLabel value="Liguagens"/>
<h:selectManyCheckbox>
     <f:selectItem itemValue="1" itemLabel="Java"/>
     <f:selectItem itemValue="2" itemLabel="Php"/>
     <f:selectItem itemValue="3" itemLabel="Pyton"/>
     <f:selectItem itemValue="4" itemLabel="C#"/>
     <f:selectItem itemValue="5" itemLabel="Cobol"/>
</h:selectManyCheckbox>
</b:column>


</h:panelGrid>
<h:commandButton value="Novo" action="#{pessoaBean.novo}" image="/resources/img/new-file_40454.png" title="novo"/>  
<h:commandButton value="Salvar" action="#{pessoaBean.salvar}" image="/resources/img/Save_37110.png" title="salvar" />
<h:commandButton value="Remove" action="#{pessoaBean.remove}" image="/resources/img/biggarbagebin_121980.png" title="remove"/>
<h:commandButton action="#{pessoaBean.limpar}" image="/resources/img/limpar_clean_icon_134365.png" title="limpar"/>
<h:panelGroup>

</h:panelGroup>


</h:form>

<h:form id="formeTable">

<b:dataTable value="#{pessoaBean.pessoas}" var="pessoa" border="3" cellpadding="6" rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
<f:facet name="header">
Lista de Usuarios Cadastrados
</f:facet>

<h:column>
<f:facet name="header">ID</f:facet>
<h:outputText value="#{pessoa.id}"/>
</h:column>

<h:column>
<f:facet name="header">NOME</f:facet>
<h:outputText value="#{pessoa.nome}"/>
</h:column>

<h:column>
<f:facet name="header">SOBRE NOME</f:facet>
<h:outputText value="#{pessoa.sobrenome}"/>
</h:column>

<h:column>
<f:facet name="header">FOTO</f:facet>
<h:commandLink actionListener="#{pessoaBean.download}">
<h:graphicImage width="60" height="60" value="#{pessoa.fotoIconBase64}"/>
<f:param name="fileDownloadId" value="#{pessoa.id}"/>
</h:commandLink>
</h:column>

<h:column>
       <f:facet name="header">EDITAR</f:facet>
       <h:commandLink title= "Editar" imediate="true" action="#{pessoaBean.editar}"> 
       <h:graphicImage value="/resources/img/editar_21973.png" title="editar"/>
       <f:setPropertyActionListener value="#{pessoa}" target="#{pessoaBean.pessoa}" />
       
</h:commandLink>
</h:column>

<h:outputLabel style="width:200px;" value ="       "/>


<h:column rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
<f:facet name="header">EXCLUIR</f:facet>
<h:commandLink  action="#{pessoaBean.remove}" immediate="true"> 
       <f:setPropertyActionListener value="#{pessoa}" target="#{pessoaBean.pessoa}" />
        <h:graphicImage value="/resources/img/userdelete_120257.png" title="excluir"/>
</h:commandLink>
</h:column>
</b:dataTable>

</h:form>
</h:body>
</html>